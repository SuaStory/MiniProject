<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="light-mode.css" id="css-link">
</head>
<body>
    <div>
        <p>이 사이트는 다크모드가 지원됩니다.</p>   
        <p>아래 버튼을 누르면, 모드가 변경됩니다.</p>
        <a href="index.html">page1</a>   
    </div>
    <button onclick="changeMode()">모드변경</button>

    <script>
        var css = document.querySelector("#css-link");
        var darkModeYn = localStorage["darkMode"];
        loadMode();
        
        function loadMode(){
            if (darkModeYn == "Y"){
                css.setAttribute('href', "dark-mode.css")
            } else {
                css.setAttribute('href', "light-mode.css")
            }
        }

        function changeMode(){
            if (darkModeYn == "N"){
                localStorage["darkMode"] = 'Y' 
            } else {
                localStorage["darkMode"] = 'N'
            }

            location.reload(); 
            // 웹페이지 새로고침
        }
        
    </script>
</body>
</html>